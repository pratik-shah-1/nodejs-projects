<!DOCTYPE html>
<html lang="en">
<head>
	<meta charset="UTF-8">
	<meta name="viewport" content="width=device-width, initial-scale=1.0">
	<title>Event Festival</title>
	<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@4.6.0/dist/css/bootstrap.min.css">
	<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.3/css/all.min.css">
	<link rel="stylesheet" href="../assets/css/style.css">
	<script src="https://ajax.googleapis.com/ajax/libs/jquery/3.5.1/jquery.min.js"></script>
	<script src="https://cdn.jsdelivr.net/npm/bootstrap@4.6.0/dist/js/bootstrap.bundle.min.js"></script>
	<script src="https://cdnjs.cloudflare.com/ajax/libs/sweetalert/2.1.2/sweetalert.min.js"></script>
</head>
<body>

<nav class="navbar navbar-expand-lg px-4 px-sm-5 shadow-sm">
	<a class="navbar-brand" href="#"><span class="h5 text-dark">EVENT FESTIVAL</span></a>
  	<button class="ml-auto navbar-toggler" type="button" data-toggle="collapse" data-target="#navmenu">
		<i class="fas fa-bars"></i>	  	
	</button>
	<div class="collapse navbar-collapse" id="navmenu">
	    <ul class="navbar-nav ml-auto">
	      	<li class="nav-item active"><a class="nav-link h6 text-dark" href="your_events.html">YOUR EVENTS</a></li>
	      	<li class="nav-item active"><a class="nav-link h6 text-dark" href="login.html">LOGIN</a></li>
	      	<li class="nav-item active"><a class="nav-link h6 text-dark" href="#">LOGOUT</a></li>
	    </ul>
  	</div>		
</nav>

<form class="border rounded m-auto add_event" method="POST" action="http://localhost:3000/add_event" enctype="multipart/form-data">
	<!-- Part-1 -->
	<p class="h5 bg-dark text-light text-center py-3">ADD EVENT</p>
	<div class="part_1 p-4">
		<div class="form-group">
			<label class="h6">Event Name</label>
			<input type="text" class="form-control" placeholder="Content Writing" name="name" value="content Writing">
		</div>				
		<div class="form-group">
			<label class="h6">Category</label>
			<select class="custom-select" name="category">
				<option value="not_technical" selected>Non-Technical</option>
				<option value="technical">Technical</option>
				<option value="workshop">Workshop</option>
				<option value="social">Social</option>
				<option value="sports">Sports</option>
				<option value="cultural">Cultural</option>
				<option value="internship">Internship</option>
				<option value="leadership">Leadership</option>
				<option value="management">Management</option>
			</select>
		</div>
		<div class="form-group">
			<label class="h6" for="">Details</label>
			<textarea name="details" class="form-control" name="details">helolo this is conent writing event</textarea>
		</div>
		<div class="form-group">
			<div class="custom-file">
				<label class="custom-file-label" for="img">Upload Image</label>
				<input class="custom-file-input" type="file" id="img" name="image">
			</div>
		</div>
		<div class="form-group">
			<label class="h6" for="">Certificate</label>
			<div class="d-flex justify-content-between" style="width:120px;">
				<div class="form-check">
				  	<input class="form-check-input" type="radio" name="certificate" checked>
				  	<label class="form-check-label">Yes</label>
				</div>			
				<div class="form-check">
				  	<input class="form-check-input" type="radio" name="certificate">
				  	<label class="form-check-label">No</label>
				</div>								
			</div>
		</div>
		<div class="form-group">
			<label class="h6" for="">Winner Prize</label>
			<div class="d-flex justify-content-between" style="width:120px;">
				<div class="form-check">
				  	<input class="form-check-input" type="radio" name="winner" checked>
				  	<label class="form-check-label">Yes</label>
				</div>			
				<div class="form-check">
				  	<input class="form-check-input" type="radio" name="winner">
				  	<label class="form-check-label">No</label>
				</div>								
			</div>
		</div>
		<div class="form-group">
			<div>
				<label class="h6" for="">Type</label>
				<select name="type" class="custom-select" onchange="event_type(this.value);">
					<option value="free">FREE</option>
					<option value="paid" selected>PAID</option>
				</select>
				<input type="text" placeholder="Amount in Rupees"  class="event_amount form-control mt-3 d-none" name="amount" value="50">
			</div>
		</div>				
		<div class="d-flex justify-content-end">
			<button class="btn btn-warning next_btn"><span class="h6">Next</span></button>
		</div>
	</div><!-- End of Part-1 -->
<script>
	function event_type(val){
		if(val=='paid')
			$('.event_amount').removeClass('d-none');
		else
			$('.event_amount').addClass('d-none');
	}
</script>
	<input type="text" name="event" value="60ac32a457c439412cd2c0fd" class="d-none">
	<!-- Part-2 -->
	<div class="part_2 d-none p-4">
		<!-- Location Time and Date -->
		<input type="text" name="_token" value="hello" hidden>
		<div class="form-group">
			<label class="h6">Start-Time</label>
			<input type="time" class="form-control" placeholder="Content Writing" name="start_time" value="22:15">
		</div>				
		<div class="form-group">
			<label class="h6">End-Time</label>
			<input type="time" class="form-control" placeholder="Content Writing" name="end_time" value="22:15">
		</div>				
		<div class="form-group">
			<label class="h6">Start-Date</label>
			<input type="date" class="form-control" placeholder="Content Writing" name="start_date" value="2021-05-24">
		</div>				
		<div class="form-group">
			<label class="h6">End-Date</label>
			<input type="date" class="form-control" placeholder="Content Writing" name="end_date" value="2021-05-28">
		</div>				
		<input type="text" class="form-control" placeholder="Content Writing" name="event_manager" value="60ab3b0ba8a044406c5c7d88" hidden>
		<div class="form-group">
			<label class="h6">Location</label>
			<input type="text" class="form-control" placeholder="Content Writing" name="location" value="d-block">
		</div>							
		<div class="form-group">
			<label class="h6">Capacity</label>
			<input type="text" class="form-control" placeholder="Content Writing" name="capacity" value="50 Student">
		</div>		
		<div class="form-group">
			<label class="h6">Contact</label>
			<input type="text" class="form-control mb-3" placeholder="Name" name="capacity">
			<input type="text" class="form-control" placeholder="Mobile Number" name="capacity">
		</div>							
					
		<div class="d-flex justify-content-between">
			<button class="btn btn-outline-warning prev_btn">
				<span class="h6">Prev</span>
			</button>
			<button class="btn btn-warning">
				<span class="h6">SUBMIT</span>
			</button>
		</div>
	</div><!-- End of Part-2 -->
</form>
<script>
	$('.next_btn').click(function(e){
		e.preventDefault();
		$('.part_1').addClass('d-none');
		$('.part_2').removeClass('d-none');
	});
	$('.prev_btn').click(function(e){
		e.preventDefault();
		$('.part_2').addClass('d-none');
		$('.part_1').removeClass('d-none');
	});
</script>


<footer class="bg-dark py-3 d-flex flex-column">
	<a class="m-0 h6 text-warning py-2 text-center" href="/contact">Contact-Admin</a>
	<p class="m-0 h6 text-light py-2 text-center ">Copyright &#169; 2021 Event Festival </p>
</footer>

<script>
	$('.add_event').submit(function(e){
		e.preventDefault();
		const a = $(this)[0];
		const form = new FormData(a);
		const b = $('[name="image"]')[0].files;
		form.append('image',b);
		$.ajax({
			url: "http://localhost:3000/update_event",
			method: "POST",
			data: form,
			processData: false,
			contentType: false,
			success:function(res){
				console.log(res);
			}
		});
	});


</script>

</body>
</html>