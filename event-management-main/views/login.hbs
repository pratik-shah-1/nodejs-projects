<div class="m-auto rounded border login_form">
	<p class="h5 bg-dark text-light text-center py-3 text-uppercase">Login Form</p>
	<form class="px-4" id="login">
		<input type="hidden" name="_token" value="{{_token}}">
		<p class="m-0 my-3 py-2 alert alert-danger h6 error_msg d-none text-capitalize"></p>
		<div class="form-group mb-2">
			<label class="form-label m-0 h6">Role</label>
			<select name="role" class="custom-select">
				<option value="student">Participant</option>
				<option value="volunteer" >Volunteer</option>
				<option value="event_manager" >Event Manager</option>
			</select>
		</div>
		<div class="form-group mb-2">
			<label class="form-label m-0 h6" for="">Email Address</label>
			<input class="form-control" type="text" name="email">
		</div>
		<div class="form-group mb-2">
			<label class="form-label m-0 h6">Password</label>
			<input class="form-control" type="password" name="password">
		</div>
		<div class="d-flex justify-content-between py-2">
			<div class="d-flex align-items-center">
				<input type="checkbox" name="remember_me" value="false">
				<p class="m-0 mx-2">Keep me Logged?</p>
			</div>
			<a href="/forgot_password" class='m-0'>Forgot Password?</a>	
		</div>
		<button class="mt-2 btn btn-warning w-100"><span class="h6">LOGIN</span></button>
		<p class='mt-3 text-center'>New here? <a href="/signup">Signup</a></p>
	</form>
</div>

<a href="/" class="d-none" id="home">home</a>

<script>

	$('[name="remember_me"]').change(function(){
		if($(this).prop('checked'))
			$(this).val('true');
		else
			$(this).val('false');
	});

	$('#login').submit(function(e){
		e.preventDefault();
		$.ajax({
			url: "/login",
			method: "POST",
			data: $(this).serialize(),
			success: function(res, status){
				if(status=='success')
					$('[href="/"]')[0].click();
			},
			error: function(xhr, status, error){
				$('.error_msg').removeClass('d-none').text(xhr.responseJSON.message);
			}
		});
	});
</script>